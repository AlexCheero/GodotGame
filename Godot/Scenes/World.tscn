[gd_scene load_steps=9 format=2]

[ext_resource path="res://Scripts/ECSWorld.gdns" type="Script" id=1]
[ext_resource path="res://Scenes/Camera.tscn" type="PackedScene" id=2]
[ext_resource path="res://Scenes/Player.tscn" type="PackedScene" id=3]
[ext_resource path="res://Scenes/Enemy.tscn" type="PackedScene" id=4]
[ext_resource path="res://Scenes/Floor.tscn" type="PackedScene" id=5]

[sub_resource type="NavigationMesh" id=1]
vertices = PoolVector3Array( -91.3, 0.6, -99.4, -99.4, 0.6, -99.4, -99.4, 0.6, -90.7, -82.9, 0.6, -99.4, -91.3, 0.6, -99.4, -99.4, 0.6, -90.7, -82.9, 0.6, -99.4, -99.4, 0.6, -90.7, -99.4, 0.6, -81.7, -74.5, 0.6, -99.4, -99.4, 0.6, -28.6, 33.5, 0.6, -28.9, 32.9, 0.6, -29.2, -74.5, 0.6, -99.4, -99.4, 0.6, -81.7, -99.4, 0.6, -73, -66.1, 0.6, -99.4, 32.9, 0.6, -29.2, 0.800003, 0.6, -99.4, -7.6, 0.6, -99.4, -66.1, 0.6, -99.4, -99.4, 0.6, -73, -99.4, 0.6, -64, -57.7, 0.6, -99.4, -40.9, 0.6, -99.4, -99.4, 0.6, -46.3, -99.4, 0.6, -37.6, -32.5, 0.6, -99.4, -57.7, 0.6, -99.4, -99.4, 0.6, -64, -99.4, 0.6, -55.3, -49.3, 0.6, -99.4, 32.9, 0.6, -29.2, -7.6, 0.6, -99.4, -16, 0.6, -99.4, 32.9, 0.6, -32.2, 34.4, 0.6, -32.5, 34.4, 0.6, -99.4, 26, 0.6, -99.4, 32.9, 0.6, -29.2, -16, 0.6, -99.4, -24.4, 0.6, -99.4, 32.9, 0.6, -32.2, 26, 0.6, -99.4, 17.6, 0.6, -99.4, 32.9, 0.6, -32.2, 17.6, 0.6, -99.4, 9.2, 0.6, -99.4, -49.3, 0.6, -99.4, -99.4, 0.6, -55.3, -99.4, 0.6, -46.3, -40.9, 0.6, -99.4, 32.9, 0.6, -29.2, 32.9, 0.6, -32.2, 9.2, 0.6, -99.4, 0.800003, 0.6, -99.4, 32.9, 0.6, -29.2, -24.4, 0.6, -99.4, -32.5, 0.6, -99.4, -99.4, 0.6, -37.6, -99.4, 0.6, -28.6, 99.5, 0.6, -91, 99.5, 0.6, -99.4, 91.1, 0.6, -99.4, 99.5, 0.6, -91, 91.1, 0.6, -99.4, 83, 0.6, -99.4, 99.5, 0.6, -82.3, 99.5, 0.6, -91, 83, 0.6, -99.4, 74.9, 0.6, -99.4, 42.5, 0.6, -99.4, 34.4, 0.6, -99.4, 34.4, 0.6, -32.5, 99.5, 0.6, -73.9, 99.5, 0.6, -82.3, 74.9, 0.6, -99.4, 66.8, 0.6, -99.4, 50.6, 0.6, -99.4, 42.5, 0.6, -99.4, 34.4, 0.6, -32.5, 99.5, 0.6, -48.1, 99.5, 0.6, -56.8, 99.5, 0.6, -65.2, 99.5, 0.6, -73.9, 66.8, 0.6, -99.4, 58.7, 0.6, -99.4, 34.4, 0.6, -32.5, 35.9, 0.6, -32.5, 99.5, 0.6, -39.4, 99.5, 0.6, -48.1, 99.5, 0.6, -56.8, 99.5, 0.6, -65.2, 58.7, 0.6, -99.4, 50.6, 0.6, -99.4, 35.9, 0.6, -32.5, 36.2, 0.6, -30.7, 99.5, 0.6, -30.7, 99.5, 0.6, -39.4, -99.4, 0.6, 91.4, -99.4, 0.6, 99.5, -93.4, 0.6, 99.5, 93.2, 0.6, 99.5, 99.5, 0.6, 99.5, 99.5, 0.6, 91.1, -99.4, 0.6, 91.4, -93.4, 0.6, 99.5, -87.1, 0.6, 99.5, 86.9, 0.6, 99.5, 93.2, 0.6, 99.5, 99.5, 0.6, 91.1, -99.4, 0.6, 91.4, -87.1, 0.6, 99.5, -81.1, 0.6, 99.5, 80.6, 0.6, 99.5, 86.9, 0.6, 99.5, 99.5, 0.6, 91.1, -99.4, 0.6, 83.3, -99.4, 0.6, 91.4, -81.1, 0.6, 99.5, -74.8, 0.6, 99.5, 80.6, 0.6, 99.5, 99.5, 0.6, 91.1, 99.5, 0.6, 83, 74.6, 0.6, 99.5, 99.5, 0.6, 42.5, 99.5, 0.6, 34.4, 33.5, 0.6, -28.9, -99.4, 0.6, 43.1, -25, 0.6, 99.5, -19, 0.6, 99.5, -99.4, 0.6, 35.3, -99.4, 0.6, 75.2, -99.4, 0.6, 83.3, -74.8, 0.6, 99.5, -68.8, 0.6, 99.5, 74.6, 0.6, 99.5, 99.5, 0.6, 83, 99.5, 0.6, 74.9, 68.3, 0.6, 99.5, 18.5, 0.6, 99.5, 24.8, 0.6, 99.5, 99.5, 0.6, 42.5, -99.4, 0.6, 3.2, -99.4, 0.6, 11, -6.39999, 0.6, 99.5, -99.4, 0.6, 75.2, -68.8, 0.6, 99.5, -62.5, 0.6, 99.5, 62, 0.6, 99.5, 68.3, 0.6, 99.5, 99.5, 0.6, 74.9, -99.4, 0.6, 67.4, -99.4, 0.6, 75.2, -62.5, 0.6, 99.5, -56.2, 0.6, 99.5, 62, 0.6, 99.5, 99.5, 0.6, 74.9, 99.5, 0.6, 66.8, 55.7, 0.6, 99.5, 12.2, 0.6, 99.5, 18.5, 0.6, 99.5, 99.5, 0.6, 42.5, -99.4, 0.6, 35.3, -19, 0.6, 99.5, -12.7, 0.6, 99.5, -99.4, 0.6, 27.2, -99.4, 0.6, 67.4, -56.2, 0.6, 99.5, -49.9, 0.6, 99.5, 49.7, 0.6, 99.5, 55.7, 0.6, 99.5, 99.5, 0.6, 66.8, 99.5, 0.6, -30.7, 36.2, 0.6, -30.7, 35.9, 0.6, -28.9, 99.5, 0.6, -22.6, -99.4, 0.6, 59.3, -99.4, 0.6, 67.4, -49.9, 0.6, 99.5, -43.9, 0.6, 99.5, 5.9, 0.6, 99.5, 12.2, 0.6, 99.5, 99.5, 0.6, 42.5, 49.7, 0.6, 99.5, 99.5, 0.6, 66.8, 99.5, 0.6, 58.7, 43.4, 0.6, 99.5, 99.5, 0.6, -14.5, 99.5, 0.6, -22.6, 35.9, 0.6, -28.9, 99.5, 0.6, -6.39999, 99.5, 0.6, -14.5, 35.9, 0.6, -28.9, 33.5, 0.6, -28.9, -99.4, 0.6, -20.8, -99.4, 0.6, -12.7, -0.0999985, 0.6, 99.5, 5.9, 0.6, 99.5, 99.5, 0.6, 42.5, 99.5, 0.6, -6.39999, 35.9, 0.6, -28.9, 33.5, 0.6, -28.9, 99.5, 0.6, 1.7, -99.4, 0.6, 27.2, -12.7, 0.6, 99.5, -6.39999, 0.6, 99.5, -99.4, 0.6, 19.1, -99.4, 0.6, 51.2, -99.4, 0.6, 59.3, -43.9, 0.6, 99.5, -37.6, 0.6, 99.5, 43.4, 0.6, 99.5, 99.5, 0.6, 58.7, 99.5, 0.6, 50.6, 37.1, 0.6, 99.5, 99.5, 0.6, 9.8, 99.5, 0.6, 1.7, 33.5, 0.6, -28.9, -6.39999, 0.6, 99.5, -0.0999985, 0.6, 99.5, 99.5, 0.6, 42.5, 33.5, 0.6, -28.9, -99.4, 0.6, -4.89999, -99.4, 0.6, 3.2, 33.5, 0.6, -28.9, -99.4, 0.6, -12.7, -99.4, 0.6, -4.89999, 99.5, 0.6, 17.9, 99.5, 0.6, 9.8, 33.5, 0.6, -28.9, -99.4, 0.6, 51.2, -37.6, 0.6, 99.5, -31.3, 0.6, 99.5, 30.8, 0.6, 99.5, 37.1, 0.6, 99.5, 99.5, 0.6, 50.6, 99.5, 0.6, 26, 99.5, 0.6, 17.9, 33.5, 0.6, -28.9, -99.4, 0.6, 43.1, -99.4, 0.6, 51.2, -31.3, 0.6, 99.5, -25, 0.6, 99.5, 30.8, 0.6, 99.5, 99.5, 0.6, 50.6, 99.5, 0.6, 42.5, 24.8, 0.6, 99.5, 99.5, 0.6, 34.4, 99.5, 0.6, 26, 33.5, 0.6, -28.9, -99.4, 0.6, 11, -99.4, 0.6, 19.1, -6.39999, 0.6, 99.5, 33.5, 0.6, -28.9, -99.4, 0.6, -28.6, -99.4, 0.6, -20.8 )
polygons = [ PoolIntArray( 2, 0, 1 ), PoolIntArray( 5, 3, 4 ), PoolIntArray( 9, 6, 8 ), PoolIntArray( 6, 7, 8 ), PoolIntArray( 12, 10, 11 ), PoolIntArray( 16, 13, 15 ), PoolIntArray( 13, 14, 15 ), PoolIntArray( 19, 17, 18 ), PoolIntArray( 23, 20, 22 ), PoolIntArray( 20, 21, 22 ), PoolIntArray( 27, 24, 26 ), PoolIntArray( 24, 25, 26 ), PoolIntArray( 31, 28, 30 ), PoolIntArray( 28, 29, 30 ), PoolIntArray( 34, 32, 33 ), PoolIntArray( 38, 35, 37 ), PoolIntArray( 35, 36, 37 ), PoolIntArray( 41, 39, 40 ), PoolIntArray( 44, 42, 43 ), PoolIntArray( 47, 45, 46 ), PoolIntArray( 51, 48, 50 ), PoolIntArray( 48, 49, 50 ), PoolIntArray( 55, 52, 54 ), PoolIntArray( 52, 53, 54 ), PoolIntArray( 60, 56, 59 ), PoolIntArray( 56, 58, 59 ), PoolIntArray( 56, 57, 58 ), PoolIntArray( 63, 61, 62 ), PoolIntArray( 66, 64, 65 ), PoolIntArray( 70, 67, 69 ), PoolIntArray( 67, 68, 69 ), PoolIntArray( 73, 71, 72 ), PoolIntArray( 77, 74, 76 ), PoolIntArray( 74, 75, 76 ), PoolIntArray( 82, 78, 81 ), PoolIntArray( 78, 79, 81 ), PoolIntArray( 79, 80, 81 ), PoolIntArray( 86, 83, 85 ), PoolIntArray( 83, 84, 85 ), PoolIntArray( 90, 87, 89 ), PoolIntArray( 87, 88, 89 ), PoolIntArray( 94, 91, 93 ), PoolIntArray( 91, 92, 93 ), PoolIntArray( 98, 95, 97 ), PoolIntArray( 95, 96, 97 ), PoolIntArray( 101, 99, 100 ), PoolIntArray( 104, 102, 103 ), PoolIntArray( 107, 105, 106 ), PoolIntArray( 110, 108, 109 ), PoolIntArray( 113, 111, 112 ), PoolIntArray( 116, 114, 115 ), PoolIntArray( 120, 117, 119 ), PoolIntArray( 117, 118, 119 ), PoolIntArray( 124, 121, 123 ), PoolIntArray( 121, 122, 123 ), PoolIntArray( 127, 125, 126 ), PoolIntArray( 131, 128, 130 ), PoolIntArray( 128, 129, 130 ), PoolIntArray( 135, 132, 134 ), PoolIntArray( 132, 133, 134 ), PoolIntArray( 139, 136, 138 ), PoolIntArray( 136, 137, 138 ), PoolIntArray( 142, 140, 141 ), PoolIntArray( 145, 143, 144 ), PoolIntArray( 148, 146, 147 ), PoolIntArray( 151, 149, 150 ), PoolIntArray( 155, 152, 154 ), PoolIntArray( 152, 153, 154 ), PoolIntArray( 159, 156, 158 ), PoolIntArray( 156, 157, 158 ), PoolIntArray( 162, 160, 161 ), PoolIntArray( 166, 163, 165 ), PoolIntArray( 163, 164, 165 ), PoolIntArray( 169, 167, 168 ), PoolIntArray( 172, 170, 171 ), PoolIntArray( 176, 173, 175 ), PoolIntArray( 173, 174, 175 ), PoolIntArray( 180, 177, 179 ), PoolIntArray( 177, 178, 179 ), PoolIntArray( 183, 181, 182 ), PoolIntArray( 187, 184, 186 ), PoolIntArray( 184, 185, 186 ), PoolIntArray( 190, 188, 189 ), PoolIntArray( 193, 191, 192 ), PoolIntArray( 196, 194, 195 ), PoolIntArray( 199, 197, 198 ), PoolIntArray( 203, 200, 202 ), PoolIntArray( 200, 201, 202 ), PoolIntArray( 207, 204, 206 ), PoolIntArray( 204, 205, 206 ), PoolIntArray( 211, 208, 210 ), PoolIntArray( 208, 209, 210 ), PoolIntArray( 215, 212, 214 ), PoolIntArray( 212, 213, 214 ), PoolIntArray( 218, 216, 217 ), PoolIntArray( 224, 219, 223 ), PoolIntArray( 219, 220, 223 ), PoolIntArray( 220, 222, 223 ), PoolIntArray( 220, 221, 222 ), PoolIntArray( 227, 225, 226 ), PoolIntArray( 230, 228, 229 ), PoolIntArray( 233, 231, 232 ), PoolIntArray( 236, 234, 235 ), PoolIntArray( 239, 237, 238 ), PoolIntArray( 243, 240, 242 ), PoolIntArray( 240, 241, 242 ), PoolIntArray( 247, 244, 246 ), PoolIntArray( 244, 245, 246 ), PoolIntArray( 250, 248, 249 ), PoolIntArray( 253, 251, 252 ), PoolIntArray( 256, 254, 255 ) ]

[sub_resource type="CubeMesh" id=2]

[sub_resource type="BoxShape" id=3]

[node name="World" type="Node"]
script = ExtResource( 1 )

[node name="Camera" parent="." instance=ExtResource( 2 )]

[node name="Player" parent="." instance=ExtResource( 3 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, 0 )

[node name="Enemy" parent="." instance=ExtResource( 4 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, -12 )

[node name="Navigation" type="Navigation" parent="."]

[node name="NavigationMeshInstance" type="NavigationMeshInstance" parent="Navigation"]
navmesh = SubResource( 1 )

[node name="Floor" parent="Navigation/NavigationMeshInstance" instance=ExtResource( 5 )]

[node name="CubeObstacle" type="Spatial" parent="Navigation/NavigationMeshInstance"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 34.5199, 2.3309, -30.6353 )

[node name="MeshInstance" type="MeshInstance" parent="Navigation/NavigationMeshInstance/CubeObstacle"]
mesh = SubResource( 2 )
material/0 = null

[node name="StaticBody" type="StaticBody" parent="Navigation/NavigationMeshInstance/CubeObstacle/MeshInstance"]

[node name="CollisionShape" type="CollisionShape" parent="Navigation/NavigationMeshInstance/CubeObstacle/MeshInstance/StaticBody"]
shape = SubResource( 3 )

[node name="PatrolRoute" type="Node" parent="."]

[node name="p1" type="Spatial" parent="PatrolRoute"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -44.5458, 0, -48.8634 )

[node name="p2" type="Spatial" parent="PatrolRoute"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 39.8872, 7.62939e-006, -54.5141 )

[node name="p3" type="Spatial" parent="PatrolRoute"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 35.4776, 0, 16.6931 )

[node name="p4" type="Spatial" parent="PatrolRoute"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -33.0559, 0, 16.7237 )
